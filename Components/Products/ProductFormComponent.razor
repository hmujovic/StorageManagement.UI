@inherits ProductFormViewModel

@if (ProductCreate != null && ProductCreate.Id == 0)
{
    <MudDialog Style="width:inherit">
        <DialogContent>
            <MudCard>
                <MudCardContent>
                    <MudItem xs="12">
                        <MudTextField Label="Product Name" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                        @bind-Value="ProductCreate.Name" For="@(() => ProductCreate.Name)" />

                        <MudNumericField Label="Quantity" Variant="Variant.Outlined" Immediate=true
                                        @bind-Value="ProductCreate.Quantity" For="@(() => ProductCreate.Quantity)" />

                        <MudSelect T="CategoryDto" Variant="Variant.Outlined" Required Label="Category" @bind-Value="@SelectedCategory">
                            @foreach (var category in Categories)
                            {
                                <MudSelectItem Value=@category>@category</MudSelectItem>
                            }
                        </MudSelect>
                    </MudItem>
                </MudCardContent>
            </MudCard>
        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Tertiary" Variant="Variant.Filled" OnClick="() => Cancel()">Cancel</MudButton>
            <MudButton ButtonType="ButtonType.Submit" Disabled="@Disabled" Variant="Variant.Filled" Color="Color.Tertiary" OnClick="() => CreateOrUpdate()">Save</MudButton>
        </DialogActions>
    </MudDialog>
}
else
{
    <MudDialog Style="width:inherit">
        <DialogContent>
            <MudCard>
                <MudCardContent>
                    <MudItem xs="12">
                        <MudTextField Label="Product Name" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="ProductUpdate.Name" For="@(() => ProductUpdate.Name)" />

                        <MudNumericField Label="Quantity" Variant="Variant.Outlined" Immediate=true
                                         @bind-Value="ProductUpdate.Quantity" For="@(() => ProductUpdate.Quantity)" />

                        <MudSelect T="CategoryDto" Variant="Variant.Outlined" Required Label="Category" @bind-Value="@SelectedCategory">
                            @foreach (var category in Categories)
                            {
                                <MudSelectItem Value=@category>@category</MudSelectItem>
                            }
                        </MudSelect>
                    </MudItem>
                </MudCardContent>
            </MudCard>
        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Tertiary" Variant="Variant.Filled" OnClick="() => Cancel()">Cancel</MudButton>
            <MudButton ButtonType="ButtonType.Submit" Disabled="@Disabled" Variant="Variant.Filled" Color="Color.Tertiary" OnClick="() => CreateOrUpdate()">Save</MudButton>
        </DialogActions>
    </MudDialog>
}


